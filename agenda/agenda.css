/* ───────────────────────────────
   agenda.css
   · Tema claro / oscuro (CSS vars)
   · Layout flex / grid
   · Animaciones suaves
   · Totalmente responsive
──────────────────────────────── */

/* ===== Tipografía base ===== */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

/* ========== Paleta modo claro ========== */
:root{
  --bg          : #fdfdfd;
  --bg-alt      : #ffffff;
  --text        : #1a1a1a;
  --text-muted  : #6b6b6b;
  --border      : #e1e1e1;
  --hover       : #f0f0f0;
  --hover-active: #e6e6e6;
  --accent      : #e63946;
  --accent-contrast : #fff;
  --shadow      : 0 1px 4px rgba(0,0,0,.06);
  --font        : 'Inter', -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
}

/* ========== Paleta modo oscuro ========== */
html[data-theme='dark']{
  --bg          : #1a1a1a;
  --bg-alt      : #242424;
  --text        : #f1f1f1;
  --text-muted  : #9a9a9a;
  --border      : #3b3b3b;
  --hover       : #2b2b2b;
  --hover-active: #353535;
  --accent      : #e63946;
  --accent-contrast : #fff;
  --shadow      : 0 1px 4px rgba(0,0,0,.4);
}

/* ===== Reset & base ===== */
*{
  box-sizing:border-box;
  margin:0;padding:0;
  -webkit-tap-highlight-color:transparent; /* elimina flash azul en móviles */
}
body{
  font:400 16px/1.5 var(--font);
  background:var(--bg);
  color:var(--text);
  transition:background .3s,color .3s;
}
h1,h2,h3,h4,h5,h6{font-weight:600}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
button{font:inherit;cursor:pointer;border:none;background:none}

/* ===== Layout general ===== */
.wrapper{display:flex;min-height:100vh}

/* ───── Sidebar ───── */
.sidebar{
  width:260px;
  display:flex;flex-direction:column;
  background:var(--bg-alt);
  border-right:1px solid var(--border);
  transition:width .3s ease,transform .3s ease;
}
.sidebar.collapsed{width:0;overflow:hidden}
@media(max-width:768px){
  .sidebar{position:fixed;left:0;top:0;height:100%;transform:translateX(-100%)}
  .sidebar.open{transform:translateX(0)}
}
.sidebar-header,
.sidebar-footer{padding:1rem}
.sidebar-header{font-size:1.2rem;font-weight:600}
.sidebar-footer{margin-top:auto}
.sidebar-menu{padding:.5rem 0;flex:1;overflow:auto}
.sidebar-menu a{
  display:flex;align-items:center;
  padding:.55rem 1rem;
  color:var(--text);
  border-left:4px solid transparent;
  transition:background .2s;
}
.sidebar-menu a svg{margin-right:.6rem}
.sidebar-menu a:hover{background:var(--hover)}
.sidebar-menu a.active{
  background:var(--hover-active);
  border-left-color:var(--accent);
}

/* ───── Content / topbar ───── */
.content{flex:1;display:flex;flex-direction:column;min-width:0}
.topbar{
  display:flex;align-items:center;justify-content:space-between;
  padding:.5rem 1rem;border-bottom:1px solid var(--border);
  background:var(--bg-alt);box-shadow:var(--shadow);
}
.topbar h1{font-size:1.25rem;margin-left:.5rem}
.menu-toggle,.theme-toggle{
  padding:.4rem;border-radius:4px;color:var(--text);
  transition:background .2s;
}
.menu-toggle:hover,.theme-toggle:hover{background:var(--hover)}
.btn{
  background:var(--accent);color:var(--accent-contrast);
  padding:.45rem .9rem;border-radius:4px;
  transition:opacity .25s;
}
.btn:hover{opacity:.9}

/* ───── Dia (timeline) ───── */
.calendar-header{
  display:grid;grid-template-columns:repeat(7,1fr);
  background:var(--bg-alt);border-bottom:1px solid var(--border);
  font-weight:600;font-size:.9rem;text-align:center;
}
.calendar-header div{padding:.5rem 0}
.day-view{
  flex:1;overflow-y:auto;background:var(--bg-alt);
  border:1px solid var(--border);border-radius:6px;margin:1rem;
}
.hour-row{display:flex;height:40px;position:relative}
.hour-label{
  flex:0 0 50px;text-align:right;
  padding:0 .5rem;font-size:.8rem;color:var(--text-muted);
}
.hour-slot{flex:1;border-top:1px solid var(--border);position:relative}
.hour-slot:hover{background:var(--hover)}

.event{
  position:absolute;left:8px;right:8px;top:2px;
  min-height:1.6em;border-radius:4px;padding:2px 4px;
  font-size:.85rem;overflow:hidden;background:#dfefff;border:1px solid #9bb;
}
.event.personal{background:#e1f8e3;border-color:#9b9}
.event.cita    {background:#ffe6e3;border-color:#c99}
.event:hover::after{
  content:attr(data-tooltip);
  position:absolute;top:0;left:100%;margin-left:6px;
  background:#000;color:#fff;font-size:.75rem;
  padding:2px 6px;border-radius:3px;white-space:nowrap;opacity:.95;
}

/* ───── Modal ───── */
.modal-bg{
  position:fixed;inset:0;background:rgba(0,0,0,.5);
  display:none;align-items:center;justify-content:center;z-index:1000;
}
.modal{
  background:var(--bg-alt);color:var(--text);
  width:320px;padding:1rem;border-radius:6px;
}
.modal form{display:flex;flex-direction:column}
.modal label{font-size:.85rem;margin:.3rem 0 .1rem}
.modal input,.modal select,.modal textarea{
  padding:.35rem .4rem;margin-bottom:.5rem;
  border:1px solid var(--border);border-radius:4px;
  background:var(--bg);color:var(--text);font-size:.9rem;
}
.modal input:focus,
.modal select:focus,
.modal textarea:focus{
  outline:none;border-color:var(--accent);
  box-shadow:0 0 0 2px rgba(230,57,70,.22)
}
.modal-buttons{text-align:right}
.modal-buttons button{margin-left:.4rem}

/* ───── Toast ───── */
#toast{
  position:fixed;bottom:1rem;right:1rem;
  background:rgba(0,0,0,.82);color:#fff;
  padding:.5rem 1rem;border-radius:4px;font-size:.9rem;
  opacity:0;pointer-events:none;transition:opacity .5s;z-index:1100;
}
#toast.show{opacity:1}

/* ───── Responsive tweaks ───── */
@media(max-width:768px){
  .btn{padding:.4rem .8rem;font-size:.85rem}
}

/* ╔════════════  VISTA MES  ════════════╗ */
.calendar-grid{
  display:grid;
  grid-template-columns:repeat(7,minmax(80px,1fr));
  border:1px solid var(--border);
}
.calendar-grid .day{
  position:relative;
  min-height:90px;
  border:1px solid var(--border);
  padding:.25rem;text-align:right;font-weight:500;
  cursor:pointer;
  user-select:none;
  transition:background .15s;
  -webkit-tap-highlight-color:transparent;
}
.calendar-grid .day:hover{background:var(--hover)}
/* clic / focus coherentes en ambos temas */
.calendar-grid .day:active,
.calendar-grid .day:focus,
.calendar-grid .day:focus-visible{
  background:var(--hover-active);
  outline:none;
}
.calendar-grid .day-num{font-size:.85rem}

/* ─── Punto rojo de evento ─── */
.calendar-grid .day.event::after{
  content:'';position:absolute;
  bottom:6px;left:50%;
  width:6px;height:6px;
  background:var(--accent);
  border-radius:50%;
  transform:translateX(-50%);
  transition:border-radius .2s;   /* animación círculo→cuadrado  */
}
/* Hover → cuadrado del mismo tamaño */
.calendar-grid .day.event:hover::after{
  border-radius:0;
}

/* Día de hoy → número con badge */
.calendar-grid .day.today .day-num{
  background:var(--accent);color:var(--accent-contrast);
  border-radius:50%;padding:2px 6px;
}
/* ╚═════════════════════════════════════╝ */